<html>
  <head>
    <title>Test app</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="styles.css">
  </head>
  <body>
    <div id="main">
      <div id="main-row">
      <!--Main toolbar, containing most useful buttons-->
      <!-- other tools -->
      <div id="sidebar">
	<!-- misc status information -->
	<div id="statusbar" class="control-group">
	  Population: <span id="population" class="numdisplay"></span>
	</div>
	<div class="control-group">
	  <button id="view-straighten" title="(Alt+S) Fix rotation and position of the view">Straighten view</button>
	</div>
	<div class="control-group">
	  <span id="controls-rule-simple">
	    Rule<br/><input id="rule-entry"></input>
	    <button id="btn-set-rule" title="Apply this rule">Set</button>
	    <button id="btn-rule-make-generic" title="Make custom rule, defined by JS code">Generic...</button>
	  </span>
	  <span id="controls-rule-generic"  style="display:none">
	    Generic rule<br/>
	    <button id="btn-edit-rule" title="Edit JS code of the rule">Edit...</button>
	    <button id="btn-disable-generic-rule" title="Return to the binary rule mode">Disable</button>
	  </span>
	</div>
	<div class="control-group">
	  Grid
	  <br/>
	  N=<input id="entry-n" class="short"></input>
	  M=<input id="entry-m" class="short"></input>
	  <button id="btn-set-grid" title="Apply grid">Set</button>
	</div>

	<div class="control-group">
	  <button id="btn-mem-set" title="(M) Store field in the momory">MS</button>
	  <button id="btn-mem-get" title="(U) Restore field from memory">MR</button>
	  <button id="btn-mem-clear" title="(Alt+M) Clear memory">MC</button>
	</div>
	<div class="control-group">
	  <button id="btn-search" title="Search for all cell groups in the field">Search</button>
	</div>
	<div class="control-group">
	  Export <br/>
	  <button id="btn-export" title="Export whole field to text">All</button>
	  <button id="btn-exp-visible" title="Export visible part of the field to text">Visible</button>
	</div>
	<div class="control-group">
	  <button id="btn-import" title="Import field from text">Import</button>
	</div>
	<div class="control-group">
	  <button id="btn-upload">Upload</button>
	  <br/>
	  Name: <input id="upload-name" type="text" value="frame-grid{0}-n{1}.png"/>
	  <br/>
	  Size:<input id="upload-size" type="text" value="512"/>	  
	  <br/>
	  Gens: <input id="animate-generations" type="text" value="1"/>
	  <br/>
	  <button id="animate-set-start">Set start</button>
	  <button id="animate-set-end">Set end</button>
	  
	  Frames per generation: <input id="animate-frame-per-generation" type="text" value="10"/>     
	  <div id="animate-info" style="max-width:10em"></div>
	  <button id="btn-upload-animation">Upload animation</button>	  
	</div>
      </div>

      <!-- Main content -->
      <div id="main-content">
      <div id="toolbar">
	<button id="btn-reset" class="dangerous" title="(C) Clear field and reset view">Reset</button>
	<button id="btn-random" title="(R) Fill with random cells">Random</button>
	<button id="btn-step" title="(N) Evaluate for one generation">Step</button>
	<button id="btn-play-start" title="(G or Space) Start continuous evaluation">Go</button>
	<button id="btn-play-stop" style="display:none" class="button-active" title="(G or Space) Stop continuous evaluation">Stop</button>
	<button id="btn-nav-home" title="(H) Navigate to the origin">Home</button>	
      </div>
      <div id="state-selector" style="display:none">
	States:<span id="state-selector-buttons"></span>
      </div>
	<div id="canvas-container">
	  <canvas id="canvas" width="600" height="600"></canvas>
	</div>      
      </div>
      
      <div id="navigator">
	<button id="btn-nav-clear" style="display:none" title="Clear list of cell groups">Clear</button>
	<div id="navigator-wrap">
	  <div id="navigator-cluster-list"></div>
	</div>
      </div>
      
      
      </div>
    </div>

    <!-- popup dialogs ets -->
    <div id="generic-tf-editor" style="display:none" class="popup-container">
      <div>
	<h1>Custom Rule</h1>
	Javascript code:<br/>
	<textarea id="generic-tf-code" style="width:100%"
		  autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="code-entry"></textarea>
	<div>Status: <span id="generic-tf-status">modified</span></div>
	<div class="toolbar">
	  <button id="btn-set-rule-generic">OK</button>
	  <button id="btn-rule-generic-close-editor">Cancel</button>
	</div>
      </div>
    </div>

    <div id="export-dialog" style="display:none" class="popup-container">
      <div>
	<h1>Export data</h1>
	<textarea id="export" style="width:100%"
		  autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="code-entry"></textarea>
	<div class="toolbar">
	  <button id="btn-export-close">OK</button>
	</div>
      </div>
    </div>
    <div id="import-dialog" style="display:none" class="popup-container">
      <div>
	<h1>Import data</h1>
	<textarea id="import" style="width:100%" height="50%" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="code-entry"></textarea>
	<div class="toolbar">
	  <button id="btn-import-run">OK</button>
	  <button id="btn-import-cancel">Cancel</button>
	</div>
      </div>
    </div>    
    
    <script src="test_app_bundle.js"></script>
  </body>
</html>
